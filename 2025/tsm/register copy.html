<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Kanit', sans-serif;
            background: linear-gradient(to bottom right, #7e22ce, #2563eb, #312e81);
            min-height: 100vh;
        }

        .preview-img {
            width: 128px;
            height: 128px;
            object-fit: cover;
            border: 2px solid #ccc;
            border-radius: 0.5rem;
        }
    </style>
</head>

<body class="py-5">
    <div class="container max-w-4xl">
        <div class="bg-white shadow rounded-4 overflow-hidden">
            <div class="bg-primary text-white text-center py-4 px-3">
                <h1 class="h3 fw-bold mb-2">üéÆ ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£</h1>
                <p class="small">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</p>
            </div>

            <form id="registrationForm" class="p-4" autocomplete="off">
                <div class="mb-3">
                    <label for="email" class="form-label fw-medium">üìß ‡∏≠‡∏µ‡πÄ‡∏°‡∏• *</label>
                    <input type="email" id="email" class="form-control" placeholder="example@email.com" required />
                </div>

                <div class="row g-4">
                    <!-- ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÉ‡∏´‡∏°‡πà -->
                    <div class="col-md-6">
                        <div class="p-3 border border-success rounded-3 bg-light">
                            <h5 class="text-success fw-bold mb-3">‚ú® ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÉ‡∏´‡∏°‡πà</h5>
                            <div class="mb-3">
                                <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÉ‡∏´‡∏°‡πà *</label>
                                <input type="text" id="newCharName" class="form-control" required />
                            </div>
                            <div class="mb-3">
                                <label class="form-label">UID ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÉ‡∏´‡∏°‡πà *</label>
                                <input type="text" id="newCharUID" class="form-control" required />
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Screenshot ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÉ‡∏´‡∏°‡πà *</label>
                                <input type="text" id="newCharPreview" class="form-control" required />

                            </div>
                        </div>
                    </div>

                    <!-- ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÄ‡∏Å‡πà‡∏≤ -->
                    <div class="col-md-6">
                        <div class="p-3 border border-primary rounded-3 bg-light">
                            <h5 class="text-primary fw-bold mb-3">üîÑ ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÄ‡∏Å‡πà‡∏≤</h5>
                            <div class="mb-3">
                                <label class="form-label">‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÄ‡∏Å‡πà‡∏≤ *</label>
                                <input type="text" id="oldCharName" class="form-control" required />
                            </div>
                            <div class="mb-3">
                                <label class="form-label">UID ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÄ‡∏Å‡πà‡∏≤ *</label>
                                <input type="text" id="oldCharUID" class="form-control" required />
                            </div>
                            <div class="mb-3">
                                <label class="form-label">‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå *</label>
                                <select id="oldCharServer" class="form-select" required>
                                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå</option>
                                    <option value="Asia">Asia</option>
                                    <option value="America">America</option>
                                    <option value="Europe">Europe</option>
                                    <option value="TW_HK_MO">TW_HK_MO</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Screenshot ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡πÄ‡∏Å‡πà‡∏≤ *</label>
                                <input type="text" id="oldCharScreenshot" class="form-control" required />
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Terms -->
                <div class="form-check mt-4">
                    <input class="form-check-input" type="checkbox" id="acceptTerms" required />
                    <label class="form-check-label" for="acceptTerms">
                        ‚úÖ ‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° *
                        <div class="small text-muted">‡∏â‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡πâ‡∏ß</div>
                    </label>
                </div>

                <!-- Submit -->
                <div class="text-center mt-4">
                    <button type="submit" class="btn btn-primary px-5 py-3 fw-bold">üöÄ ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏•‡∏¢!</button>
                </div>
            </form>


        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        const form = document.getElementById("registrationForm");
        form.addEventListener("submit", function (e) {
            e.preventDefault();

            const email = document.getElementById("email").value.trim();
            const submitBtn = form.querySelector("button[type=submit]");
            submitBtn.disabled = true;
            // submitBtn.innerText = "‚è≥ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...";
            Swal.fire({
                title: '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...',
                html: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà',
                allowOutsideClick: false,
                didOpen: () => {
                    Swal.showLoading();
                }
            });

            const checkURL = `https://script.google.com/macros/s/AKfycbyw59bmZrlqvnLcIdD9SxHYxXKyACvGm7Ax78FDYa8e55_qo9uTXqZjKfx1t3hRfOv21A/exec?email=${encodeURIComponent(email)}`;

            fetch(checkURL)
                .then(res => res.text())
                .then(result => {
                    if (result === "DUPLICATE") {
                        Swal.fire({
                            icon: "warning",
                            title: "‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ã‡πâ‡∏≥!",
                            text: "‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏ä‡πâ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏≠‡∏∑‡πà‡∏ô",
                        });
                        submitBtn.disabled = false;
                        submitBtn.innerText = "üöÄ ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏•‡∏¢!";
                    } else {
                        submitBtn.innerText = "üöÄ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...";
                        sendToGoogleForm();
                    }
                })
                .catch(() => {
                    Swal.fire("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î", "‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÑ‡∏î‡πâ", "error");
                    submitBtn.disabled = false;
                    submitBtn.innerText = "üöÄ ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏•‡∏¢!";
                });

            function sendToGoogleForm() {
                const formURL = "https://docs.google.com/forms/d/e/1FAIpQLSdOpkhf18giAWqgC2nN5KbQKhXQI2Tz_pwUMeoxGbEgPaShnA/formResponse";
                const formData = new FormData();
                formData.append("entry.1611461011", email);
                formData.append("entry.1205571524", document.getElementById("newCharName").value);
                formData.append("entry.254482429", document.getElementById("newCharUID").value);
                formData.append("entry.955348313", document.getElementById("newCharPreview").value);
                formData.append("entry.1700000903", document.getElementById("oldCharName").value);
                formData.append("entry.916758668", document.getElementById("oldCharUID").value);
                formData.append("entry.517567685", document.getElementById("oldCharServer").value);
                formData.append("entry.796512307", document.getElementById("oldCharScreenshot").value);
                formData.append("entry.1319801822", document.getElementById("acceptTerms").checked ? "‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö" : "");

                fetch(formURL, {
                    method: "POST",
                    mode: "no-cors",
                    body: formData,
                }).then(() => {
                    Swal.fire("‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!", "‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!", "success");
                    form.reset();
                    submitBtn.disabled = false;
                    submitBtn.innerText = "üöÄ ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏•‡∏¢!";
                    window.scrollTo({ top: 0, behavior: "smooth" });
                }).catch(() => {
                    Swal.fire("‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î", "‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ", "error");
                    submitBtn.disabled = false;
                    submitBtn.innerText = "üöÄ ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏•‡∏¢!";
                });
            }
        });
    </script>



</body>

</html>